Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 6B0E810A84B
	for <lists+linux-kernel@lfdr.de>; Wed, 27 Nov 2019 02:59:38 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727233AbfK0B7Y (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Tue, 26 Nov 2019 20:59:24 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:45904 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1725871AbfK0B7R (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 26 Nov 2019 20:59:17 -0500
X-UUID: 07f47f5d424d454ea45c974d7b472472-20191127
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=/WG0/ZIzndL78ejy8T/2Uj5Sk+deMI/YNbJUjaiPzhg=;
        b=C1h9blj7FtVnTtcGXzD2ALcaw/frEBeEQa/e2Js8gEdWRiCXIpihwmmYkDlBGNUlJcbjWMb5ZjssoBhMhJwxAmciU0It01xPUUdbnEmLgO71tVxPZ5EKshtNPqGPnAQr5Fh5IpSwELk7eURhy1C/JDG81Ic6v3sR04PYhAnXMfk=;
X-UUID: 07f47f5d424d454ea45c974d7b472472-20191127
Received: from mtkmrs01.mediatek.inc [(172.21.131.159)] by mailgw02.mediatek.com
        (envelope-from <dennis-yc.hsieh@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 1310537841; Wed, 27 Nov 2019 09:59:10 +0800
Received: from mtkcas07.mediatek.inc (172.21.101.84) by
 mtkmbs05n1.mediatek.inc (172.21.101.15) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Wed, 27 Nov 2019 09:58:59 +0800
Received: from mtkswgap22.mediatek.inc (172.21.77.33) by mtkcas07.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Wed, 27 Nov 2019 09:58:18 +0800
From:   Dennis YC Hsieh <dennis-yc.hsieh@mediatek.com>
To:     Rob Herring <robh+dt@kernel.org>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Jassi Brar <jassisinghbrar@gmail.com>
CC:     <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>, <devicetree@vger.kernel.org>,
        <wsd_upstream@mediatek.com>,
        Bibby Hsieh <bibby.hsieh@mediatek.com>,
        CK Hu <ck.hu@mediatek.com>,
        Houlong Wei <houlong.wei@mediatek.com>,
        <linux-arm-kernel@lists.infradead.org>,
        Dennis YC Hsieh <dennis-yc.hsieh@mediatek.com>
Subject: [PATCH v2 02/14] mailbox: cmdq: variablize address shift in platform
Date:   Wed, 27 Nov 2019 09:58:45 +0800
Message-ID: <1574819937-6246-4-git-send-email-dennis-yc.hsieh@mediatek.com>
X-Mailer: git-send-email 1.7.9.5
In-Reply-To: <1574819937-6246-1-git-send-email-dennis-yc.hsieh@mediatek.com>
References: <1574819937-6246-1-git-send-email-dennis-yc.hsieh@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

U29tZSBnY2UgaGFyZHdhcmUgc2hpZnQgcGMgYW5kIGVuZCBhZGRyZXNzIGluIHJlZ2lzdGVyIHRv
IHN1cHBvcnQNCmxhcmdlIGRyYW0gYWRkcmVzc2luZy4NCkltcGxlbWVudCBnY2UgYWRkcmVzcyBz
aGlmdCB3aGVuIHdyaXRlIG9yIHJlYWQgcGMgYW5kIGVuZCByZWdpc3Rlci4NCkFuZCBhZGQgc2hp
ZnQgYml0IGluIHBsYXRmb3JtIGRlZmluaXRpb24uDQoNClNpZ25lZC1vZmYtYnk6IERlbm5pcyBZ
QyBIc2llaCA8ZGVubmlzLXljLmhzaWVoQG1lZGlhdGVrLmNvbT4NCi0tLQ0KIGRyaXZlcnMvbWFp
bGJveC9tdGstY21kcS1tYWlsYm94LmMgICAgICAgfCA1NyArKysrKysrKysrKysrKysrKystLS0t
LS0NCiBkcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstY21kcS1oZWxwZXIuYyAgIHwgIDMgKy0NCiBp
bmNsdWRlL2xpbnV4L21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5oIHwgIDIgKw0KIDMgZmlsZXMg
Y2hhbmdlZCwgNDggaW5zZXJ0aW9ucygrKSwgMTQgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQg
YS9kcml2ZXJzL21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5jIGIvZHJpdmVycy9tYWlsYm94L210
ay1jbWRxLW1haWxib3guYw0KaW5kZXggOWE2Y2U5ZjVhN2RiLi5kNTUzNjU2M2ZjZTEgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5jDQorKysgYi9kcml2ZXJz
L21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5jDQpAQCAtNzYsOCArNzYsMjEgQEAgc3RydWN0IGNt
ZHEgew0KIAlzdHJ1Y3QgY21kcV90aHJlYWQJKnRocmVhZDsNCiAJc3RydWN0IGNsawkJKmNsb2Nr
Ow0KIAlib29sCQkJc3VzcGVuZGVkOw0KKwl1OAkJCXNoaWZ0X3BhOw0KIH07DQogDQorc3RydWN0
IGdjZV9wbGF0IHsNCisJdTMyIHRocmVhZF9ucjsNCisJdTggc2hpZnQ7DQorfTsNCisNCit1OCBj
bWRxX21ib3hfc2hpZnQoc3RydWN0IG1ib3hfY2hhbiAqY2hhbikNCit7DQorCXN0cnVjdCBjbWRx
ICpjbWRxID0gY29udGFpbmVyX29mKGNoYW4tPm1ib3gsIHN0cnVjdCBjbWRxLCBtYm94KTsNCisN
CisJcmV0dXJuIGNtZHEtPnNoaWZ0X3BhOw0KK30NCisNCiBzdGF0aWMgaW50IGNtZHFfdGhyZWFk
X3N1c3BlbmQoc3RydWN0IGNtZHEgKmNtZHEsIHN0cnVjdCBjbWRxX3RocmVhZCAqdGhyZWFkKQ0K
IHsNCiAJdTMyIHN0YXR1czsNCkBAIC0xNzYsNiArMTg5LDcgQEAgc3RhdGljIHZvaWQgY21kcV90
YXNrX3JlbW92ZV93ZmUoc3RydWN0IGNtZHFfdGFzayAqdGFzaykNCiB7DQogCXN0cnVjdCBkZXZp
Y2UgKmRldiA9IHRhc2stPmNtZHEtPm1ib3guZGV2Ow0KIAl1NjQgKmJhc2UgPSB0YXNrLT5wa3Qt
PnZhX2Jhc2U7DQorCXN0cnVjdCBjbWRxICpjbWRxID0gdGFzay0+Y21kcTsNCiAJaW50IGk7DQog
DQogCWRtYV9zeW5jX3NpbmdsZV9mb3JfY3B1KGRldiwgdGFzay0+cGFfYmFzZSwgdGFzay0+cGt0
LT5jbWRfYnVmX3NpemUsDQpAQCAtMTgzLDcgKzE5Nyw3IEBAIHN0YXRpYyB2b2lkIGNtZHFfdGFz
a19yZW1vdmVfd2ZlKHN0cnVjdCBjbWRxX3Rhc2sgKnRhc2spDQogCWZvciAoaSA9IDA7IGkgPCBD
TURRX05VTV9DTUQodGFzay0+cGt0KTsgaSsrKQ0KIAkJaWYgKGNtZHFfY29tbWFuZF9pc193ZmUo
YmFzZVtpXSkpDQogCQkJYmFzZVtpXSA9ICh1NjQpQ01EUV9KVU1QX0JZX09GRlNFVCA8PCAzMiB8
DQotCQkJCSAgQ01EUV9KVU1QX1BBU1M7DQorCQkJCSAgQ01EUV9KVU1QX1BBU1MgPj4gY21kcS0+
c2hpZnRfcGE7DQogCWRtYV9zeW5jX3NpbmdsZV9mb3JfZGV2aWNlKGRldiwgdGFzay0+cGFfYmFz
ZSwgdGFzay0+cGt0LT5jbWRfYnVmX3NpemUsDQogCQkJCSAgIERNQV9UT19ERVZJQ0UpOw0KIH0N
CkBAIC0yMjEsMTMgKzIzNSwxNSBAQCBzdGF0aWMgdm9pZCBjbWRxX3Rhc2tfaGFuZGxlX2Vycm9y
KHN0cnVjdCBjbWRxX3Rhc2sgKnRhc2spDQogew0KIAlzdHJ1Y3QgY21kcV90aHJlYWQgKnRocmVh
ZCA9IHRhc2stPnRocmVhZDsNCiAJc3RydWN0IGNtZHFfdGFzayAqbmV4dF90YXNrOw0KKwlzdHJ1
Y3QgY21kcSAqY21kcSA9IHRhc2stPmNtZHE7DQogDQogCWRldl9lcnIodGFzay0+Y21kcS0+bWJv
eC5kZXYsICJ0YXNrIDB4JXAgZXJyb3JcbiIsIHRhc2spOw0KIAlXQVJOX09OKGNtZHFfdGhyZWFk
X3N1c3BlbmQodGFzay0+Y21kcSwgdGhyZWFkKSA8IDApOw0KIAluZXh0X3Rhc2sgPSBsaXN0X2Zp
cnN0X2VudHJ5X29yX251bGwoJnRocmVhZC0+dGFza19idXN5X2xpc3QsDQogCQkJc3RydWN0IGNt
ZHFfdGFzaywgbGlzdF9lbnRyeSk7DQogCWlmIChuZXh0X3Rhc2spDQotCQl3cml0ZWwobmV4dF90
YXNrLT5wYV9iYXNlLCB0aHJlYWQtPmJhc2UgKyBDTURRX1RIUl9DVVJSX0FERFIpOw0KKwkJd3Jp
dGVsKG5leHRfdGFzay0+cGFfYmFzZSA+PiBjbWRxLT5zaGlmdF9wYSwNCisJCSAgICAgICB0aHJl
YWQtPmJhc2UgKyBDTURRX1RIUl9DVVJSX0FERFIpOw0KIAljbWRxX3RocmVhZF9yZXN1bWUodGhy
ZWFkKTsNCiB9DQogDQpAQCAtMjU3LDcgKzI3Myw3IEBAIHN0YXRpYyB2b2lkIGNtZHFfdGhyZWFk
X2lycV9oYW5kbGVyKHN0cnVjdCBjbWRxICpjbWRxLA0KIAllbHNlDQogCQlyZXR1cm47DQogDQot
CWN1cnJfcGEgPSByZWFkbCh0aHJlYWQtPmJhc2UgKyBDTURRX1RIUl9DVVJSX0FERFIpOw0KKwlj
dXJyX3BhID0gcmVhZGwodGhyZWFkLT5iYXNlICsgQ01EUV9USFJfQ1VSUl9BRERSKSA8PCBjbWRx
LT5zaGlmdF9wYTsNCiANCiAJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKHRhc2ssIHRtcCwgJnRo
cmVhZC0+dGFza19idXN5X2xpc3QsDQogCQkJCSBsaXN0X2VudHJ5KSB7DQpAQCAtMzczLDE2ICsz
ODksMjAgQEAgc3RhdGljIGludCBjbWRxX21ib3hfc2VuZF9kYXRhKHN0cnVjdCBtYm94X2NoYW4g
KmNoYW4sIHZvaWQgKmRhdGEpDQogCQlXQVJOX09OKGNsa19lbmFibGUoY21kcS0+Y2xvY2spIDwg
MCk7DQogCQlXQVJOX09OKGNtZHFfdGhyZWFkX3Jlc2V0KGNtZHEsIHRocmVhZCkgPCAwKTsNCiAN
Ci0JCXdyaXRlbCh0YXNrLT5wYV9iYXNlLCB0aHJlYWQtPmJhc2UgKyBDTURRX1RIUl9DVVJSX0FE
RFIpOw0KLQkJd3JpdGVsKHRhc2stPnBhX2Jhc2UgKyBwa3QtPmNtZF9idWZfc2l6ZSwNCisJCXdy
aXRlbCh0YXNrLT5wYV9iYXNlID4+IGNtZHEtPnNoaWZ0X3BhLA0KKwkJICAgICAgIHRocmVhZC0+
YmFzZSArIENNRFFfVEhSX0NVUlJfQUREUik7DQorCQl3cml0ZWwoKHRhc2stPnBhX2Jhc2UgKyBw
a3QtPmNtZF9idWZfc2l6ZSkgPj4gY21kcS0+c2hpZnRfcGEsDQogCQkgICAgICAgdGhyZWFkLT5i
YXNlICsgQ01EUV9USFJfRU5EX0FERFIpOw0KKw0KIAkJd3JpdGVsKHRocmVhZC0+cHJpb3JpdHks
IHRocmVhZC0+YmFzZSArIENNRFFfVEhSX1BSSU9SSVRZKTsNCiAJCXdyaXRlbChDTURRX1RIUl9J
UlFfRU4sIHRocmVhZC0+YmFzZSArIENNRFFfVEhSX0lSUV9FTkFCTEUpOw0KIAkJd3JpdGVsKENN
RFFfVEhSX0VOQUJMRUQsIHRocmVhZC0+YmFzZSArIENNRFFfVEhSX0VOQUJMRV9UQVNLKTsNCiAJ
fSBlbHNlIHsNCiAJCVdBUk5fT04oY21kcV90aHJlYWRfc3VzcGVuZChjbWRxLCB0aHJlYWQpIDwg
MCk7DQotCQljdXJyX3BhID0gcmVhZGwodGhyZWFkLT5iYXNlICsgQ01EUV9USFJfQ1VSUl9BRERS
KTsNCi0JCWVuZF9wYSA9IHJlYWRsKHRocmVhZC0+YmFzZSArIENNRFFfVEhSX0VORF9BRERSKTsN
CisJCWN1cnJfcGEgPSByZWFkbCh0aHJlYWQtPmJhc2UgKyBDTURRX1RIUl9DVVJSX0FERFIpIDw8
DQorCQkJY21kcS0+c2hpZnRfcGE7DQorCQllbmRfcGEgPSByZWFkbCh0aHJlYWQtPmJhc2UgKyBD
TURRX1RIUl9FTkRfQUREUikgPDwNCisJCQljbWRxLT5zaGlmdF9wYTsNCiANCiAJCS8qDQogCQkg
KiBBdG9taWMgZXhlY3V0aW9uIHNob3VsZCByZW1vdmUgdGhlIGZvbGxvd2luZyB3ZmUsIGkuZS4g
b25seQ0KQEAgLTM5NSw3ICs0MTUsNyBAQCBzdGF0aWMgaW50IGNtZHFfbWJveF9zZW5kX2RhdGEo
c3RydWN0IG1ib3hfY2hhbiAqY2hhbiwgdm9pZCAqZGF0YSkNCiAJCQkJY21kcV90aHJlYWRfd2Fp
dF9lbmQodGhyZWFkLCBlbmRfcGEpOw0KIAkJCQlXQVJOX09OKGNtZHFfdGhyZWFkX3N1c3BlbmQo
Y21kcSwgdGhyZWFkKSA8IDApOw0KIAkJCQkvKiBzZXQgdG8gdGhpcyB0YXNrIGRpcmVjdGx5ICov
DQotCQkJCXdyaXRlbCh0YXNrLT5wYV9iYXNlLA0KKwkJCQl3cml0ZWwodGFzay0+cGFfYmFzZSA+
PiBjbWRxLT5zaGlmdF9wYSwNCiAJCQkJICAgICAgIHRocmVhZC0+YmFzZSArIENNRFFfVEhSX0NV
UlJfQUREUik7DQogCQkJfSBlbHNlIHsNCiAJCQkJY21kcV90YXNrX2luc2VydF9pbnRvX3RocmVh
ZCh0YXNrKTsNCkBAIC00MDcsMTQgKzQyNywxNCBAQCBzdGF0aWMgaW50IGNtZHFfbWJveF9zZW5k
X2RhdGEoc3RydWN0IG1ib3hfY2hhbiAqY2hhbiwgdm9pZCAqZGF0YSkNCiAJCQlpZiAoY3Vycl9w
YSA9PSBlbmRfcGEgLSBDTURRX0lOU1RfU0laRSB8fA0KIAkJCSAgICBjdXJyX3BhID09IGVuZF9w
YSkgew0KIAkJCQkvKiBzZXQgdG8gdGhpcyB0YXNrIGRpcmVjdGx5ICovDQotCQkJCXdyaXRlbCh0
YXNrLT5wYV9iYXNlLA0KKwkJCQl3cml0ZWwodGFzay0+cGFfYmFzZSA+PiBjbWRxLT5zaGlmdF9w
YSwNCiAJCQkJICAgICAgIHRocmVhZC0+YmFzZSArIENNRFFfVEhSX0NVUlJfQUREUik7DQogCQkJ
fSBlbHNlIHsNCiAJCQkJY21kcV90YXNrX2luc2VydF9pbnRvX3RocmVhZCh0YXNrKTsNCiAJCQkJ
c21wX21iKCk7IC8qIG1vZGlmeSBqdW1wIGJlZm9yZSBlbmFibGUgdGhyZWFkICovDQogCQkJfQ0K
IAkJfQ0KLQkJd3JpdGVsKHRhc2stPnBhX2Jhc2UgKyBwa3QtPmNtZF9idWZfc2l6ZSwNCisJCXdy
aXRlbCgodGFzay0+cGFfYmFzZSArIHBrdC0+Y21kX2J1Zl9zaXplKSA+PiBjbWRxLT5zaGlmdF9w
YSwNCiAJCSAgICAgICB0aHJlYWQtPmJhc2UgKyBDTURRX1RIUl9FTkRfQUREUik7DQogCQljbWRx
X3RocmVhZF9yZXN1bWUodGhyZWFkKTsNCiAJfQ0KQEAgLTQ2MSw2ICs0ODEsNyBAQCBzdGF0aWMg
aW50IGNtZHFfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikNCiAJc3RydWN0IHJl
c291cmNlICpyZXM7DQogCXN0cnVjdCBjbWRxICpjbWRxOw0KIAlpbnQgZXJyLCBpOw0KKwlzdHJ1
Y3QgZ2NlX3BsYXQgKnBsYXRfZGF0YTsNCiANCiAJY21kcSA9IGRldm1fa3phbGxvYyhkZXYsIHNp
emVvZigqY21kcSksIEdGUF9LRVJORUwpOw0KIAlpZiAoIWNtZHEpDQpAQCAtNDc5LDcgKzUwMCwx
NCBAQCBzdGF0aWMgaW50IGNtZHFfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikN
CiAJCXJldHVybiAtRUlOVkFMOw0KIAl9DQogDQotCWNtZHEtPnRocmVhZF9uciA9ICh1MzIpKHVu
c2lnbmVkIGxvbmcpb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRldik7DQorCXBsYXRfZGF0YSA9
IChzdHJ1Y3QgZ2NlX3BsYXQgKilvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoZGV2KTsNCisJaWYg
KCFwbGF0X2RhdGEpIHsNCisJCWRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIGdldCBtYXRjaCBkYXRh
XG4iKTsNCisJCXJldHVybiAtRUlOVkFMOw0KKwl9DQorDQorCWNtZHEtPnRocmVhZF9uciA9IHBs
YXRfZGF0YS0+dGhyZWFkX25yOw0KKwljbWRxLT5zaGlmdF9wYSA9IHBsYXRfZGF0YS0+c2hpZnQ7
DQogCWNtZHEtPmlycV9tYXNrID0gR0VOTUFTSyhjbWRxLT50aHJlYWRfbnIgLSAxLCAwKTsNCiAJ
ZXJyID0gZGV2bV9yZXF1ZXN0X2lycShkZXYsIGNtZHEtPmlycSwgY21kcV9pcnFfaGFuZGxlciwg
SVJRRl9TSEFSRUQsDQogCQkJICAgICAgICJtdGtfY21kcSIsIGNtZHEpOw0KQEAgLTU0Miw5ICs1
NzAsMTIgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3BzIGNtZHFfcG1fb3BzID0gew0K
IAkucmVzdW1lID0gY21kcV9yZXN1bWUsDQogfTsNCiANCitzdGF0aWMgY29uc3Qgc3RydWN0IGdj
ZV9wbGF0IGdjZV9wbGF0X3YyID0gey50aHJlYWRfbnIgPSAxNiwgLnNoaWZ0ID0gMH07DQorc3Rh
dGljIGNvbnN0IHN0cnVjdCBnY2VfcGxhdCBnY2VfcGxhdF92MyA9IHsudGhyZWFkX25yID0gMjQs
IC5zaGlmdCA9IDB9Ow0KKw0KIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGNtZHFf
b2ZfaWRzW10gPSB7DQotCXsuY29tcGF0aWJsZSA9ICJtZWRpYXRlayxtdDgxNzMtZ2NlIiwgLmRh
dGEgPSAodm9pZCAqKTE2fSwNCi0Jey5jb21wYXRpYmxlID0gIm1lZGlhdGVrLG10ODE4My1nY2Ui
LCAuZGF0YSA9ICh2b2lkICopMjR9LA0KKwl7LmNvbXBhdGlibGUgPSAibWVkaWF0ZWssbXQ4MTcz
LWdjZSIsIC5kYXRhID0gKHZvaWQgKikmZ2NlX3BsYXRfdjJ9LA0KKwl7LmNvbXBhdGlibGUgPSAi
bWVkaWF0ZWssbXQ4MTgzLWdjZSIsIC5kYXRhID0gKHZvaWQgKikmZ2NlX3BsYXRfdjN9LA0KIAl7
fQ0KIH07DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zb2MvbWVkaWF0ZWsvbXRrLWNtZHEtaGVs
cGVyLmMgYi9kcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstY21kcS1oZWxwZXIuYw0KaW5kZXggOWFk
ZDBmZDVmYTZjLi4yNzRmNmYzMTFkMDUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3NvYy9tZWRpYXRl
ay9tdGstY21kcS1oZWxwZXIuYw0KKysrIGIvZHJpdmVycy9zb2MvbWVkaWF0ZWsvbXRrLWNtZHEt
aGVscGVyLmMNCkBAIC0yODEsNiArMjgxLDcgQEAgRVhQT1JUX1NZTUJPTChjbWRxX3BrdF9wb2xs
X21hc2spOw0KIA0KIHN0YXRpYyBpbnQgY21kcV9wa3RfZmluYWxpemUoc3RydWN0IGNtZHFfcGt0
ICpwa3QpDQogew0KKwlzdHJ1Y3QgY21kcV9jbGllbnQgKmNsID0gcGt0LT5jbDsNCiAJc3RydWN0
IGNtZHFfaW5zdHJ1Y3Rpb24gaW5zdCA9IHsgezB9IH07DQogCWludCBlcnI7DQogDQpAQCAtMjkz
LDcgKzI5NCw3IEBAIHN0YXRpYyBpbnQgY21kcV9wa3RfZmluYWxpemUoc3RydWN0IGNtZHFfcGt0
ICpwa3QpDQogDQogCS8qIEpVTVAgdG8gZW5kICovDQogCWluc3Qub3AgPSBDTURRX0NPREVfSlVN
UDsNCi0JaW5zdC52YWx1ZSA9IENNRFFfSlVNUF9QQVNTOw0KKwlpbnN0LnZhbHVlID0gQ01EUV9K
VU1QX1BBU1MgPj4gY21kcV9tYm94X3NoaWZ0KGNsLT5jaGFuKTsNCiAJZXJyID0gY21kcV9wa3Rf
YXBwZW5kX2NvbW1hbmQocGt0LCBpbnN0KTsNCiANCiAJcmV0dXJuIGVycjsNCmRpZmYgLS1naXQg
YS9pbmNsdWRlL2xpbnV4L21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5oIGIvaW5jbHVkZS9saW51
eC9tYWlsYm94L210ay1jbWRxLW1haWxib3guaA0KaW5kZXggYTRkYzQ1ZmJlYzBhLi5kZmU1YjJl
Yjg1Y2MgMTAwNjQ0DQotLS0gYS9pbmNsdWRlL2xpbnV4L21haWxib3gvbXRrLWNtZHEtbWFpbGJv
eC5oDQorKysgYi9pbmNsdWRlL2xpbnV4L21haWxib3gvbXRrLWNtZHEtbWFpbGJveC5oDQpAQCAt
ODgsNCArODgsNiBAQCBzdHJ1Y3QgY21kcV9wa3Qgew0KIAl2b2lkCQkJKmNsOw0KIH07DQogDQor
dTggY21kcV9tYm94X3NoaWZ0KHN0cnVjdCBtYm94X2NoYW4gKmNoYW4pOw0KKw0KICNlbmRpZiAv
KiBfX01US19DTURRX01BSUxCT1hfSF9fICovDQotLSANCjIuMTguMA0K

