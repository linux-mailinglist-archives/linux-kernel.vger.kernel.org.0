Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id DD04F45836
	for <lists+linux-kernel@lfdr.de>; Fri, 14 Jun 2019 11:07:29 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726954AbfFNJHZ (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 14 Jun 2019 05:07:25 -0400
Received: from mx2.suse.de ([195.135.220.15]:51762 "EHLO mx1.suse.de"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726402AbfFNJHY (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 14 Jun 2019 05:07:24 -0400
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx1.suse.de (Postfix) with ESMTP id 57200B030;
        Fri, 14 Jun 2019 09:07:23 +0000 (UTC)
Date:   Fri, 14 Jun 2019 11:07:23 +0200
Message-ID: <s5hk1dok01g.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Linus Torvalds <torvalds@linux-foundation.org>
Cc:     Mark Brown <broonie@kernel.org>,
        Liam Girdwood <lgirdwood@gmail.com>,
        Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: [GIT PULL] sound fixes for 5.2-rc5
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Linus,

please pull sound fixes for v5.2-rc5 from:

  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound.git tags/sound-5.2-rc5

The topmost commit is 17d304604a88cf20c8dfd2c95d3decb9c4f8bca4

----------------------------------------------------------------

sound fixes for 5.2-rc5

you might feel like a deja vu to receive a bulk of changes at rc5,
and it happens again; we've got a collection of fixes for ASoC.
Most of fixes are targeted for the newly merged SOF (Sound Open
Firmware) stuff and the relevant fixes for Intel platforms.

Other than that, there are a few regression fixes for the recent
ASoC core changes and HD-audio quirk, as well as a couple of
FireWire fixes and for other ASoC codecs.

----------------------------------------------------------------

Alex Levin (1):
      ASoC: Intel: sst: fix kmalloc call with wrong flags

Amadeusz Sławiński (2):
      ALSA: hdac: fix memory release for SST and SOF drivers
      SoC: rt274: Fix internal jack assignment in set_jack callback

Curtis Malainey (1):
      ASoC: rt5677-spi: Handle over reading when flipping bytes

Georgii Staroselskii (1):
      ASoC: sun4i-codec: fix first delay on Speaker

Guennadi Liakhovetski (1):
      ASoC: SOF: ipc: fix a race, leading to IPC timeouts

Hui Wang (1):
      Revert "ALSA: hda/realtek - Improve the headset mic for Acer Aspire laptops"

Jon Hunter (2):
      ASoC: simple-card: Fix configuration of DAI format
      ASoC: simple-card: Restore original configuration of DAI format

Kai Vehmanen (2):
      ASoC: SOF: fix race in FW boot timeout handling
      ASoC: SOF: fix DSP oops definitions in FW ABI

Kailang Yang (1):
      ALSA: hda/realtek - Update headset mode for ALC256

Keyon Jie (1):
      ASoC: SOF: control: correct the copy size for bytes kcontrol put

Kovács Tamás (1):
      ASoC: Intel: Baytrail: add quirk for Aegex 10 (RU2) tablet

Kuninori Morimoto (2):
      ASoC: soc-dpm: fixup DAI active unbalance
      ASoC: soc-core: fixup references at soc_cleanup_card_resources()

Libin Yang (2):
      ASoC: soc-pcm: BE dai needs prepare when pause release after resume
      ASoC: SOF: pcm: clear hw_params_upon_resume flag correctly

Marcus Cooper (2):
      ASoC: sun4i-i2s: Fix sun8i tx channel offset mask
      ASoC: sun4i-i2s: Add offset to RX channel select

Matt Flax (1):
      ASoC : cs4265 : readable register too low

Pan Xiuli (1):
      ASoC: SOF: soundwire: add initial soundwire support

Pierre-Louis Bossart (9):
      ASoC: SOF: nocodec: fix undefined reference
      ASoC: SOF: core: fix error handling with the probe workqueue
      ASoC: SOF: pcm: remove warning - initialize workqueue on open
      ASoC: SOF: uapi: mirror firmware changes
      ASoC: SOF: bump to ABI 3.6
      ASoC: Intel: cht_bsw_max98090: fix kernel oops with platform_name override
      ASoC: Intel: bytcht_es8316: fix kernel oops with platform_name override
      ASoC: Intel: cht_bsw_nau8824: fix kernel oops with platform_name override
      ASoC: Intel: cht_bsw_rt5672: fix kernel oops with platform_name override

Ranjani Sridharan (6):
      ASoC: SOF: fix error in verbose ipc command parsing
      ASoC: core: lock client_mutex while removing link components
      ASoC: SOF: core: remove DSP after unregistering machine driver
      ASoC: SOF: core: remove snd_soc_unregister_component in case of error
      ASoC: hda: fix unbalanced codec dev refcount for HDA_DEV_ASOC
      ASoC: core: Fix deadlock in snd_soc_instantiate_card()

Rui Nuno Capela (1):
      ALSA: ice1712: Check correct return value to snd_i2c_sendbytes (EWS/DMX 6Fire)

S.j. Wang (2):
      ASoC: fsl_asrc: Fix the issue about unsupported rate
      ASoC: cs42xx8: Add regcache mask dirty

Sathya Prakash M R (3):
      ASoC: Intel: soc-acpi: Fix machine selection order
      ASoC: Intel: sof-rt5682: fix for codec button mapping
      ASoC: Intel: sof-rt5682: fix AMP quirk support

Slawomir Blauciak (1):
      ASoC: SOF: ipc: replace fw ready bitfield with explicit bit ordering

Takashi Sakamoto (2):
      ALSA: firewire-motu: fix destruction of data for isochronous resources
      ALSA: oxfw: allow PCM capture for Stanton SCS.1m

Tzung-Bi Shih (1):
      ASoC: core: move DAI pre-links initiation to snd_soc_instantiate_card

Viorel Suman (2):
      ASoC: ak4458: add return value for ak4458_probe
      ASoC: ak4458: rstn_control - return a non-zero on error only

Yu-Hsuan Hsu (1):
      ASoC: max98090: remove 24-bit format support if RJ is 0

YueHaibing (2):
      ASoC: SOF: Intel: hda: Fix COMPILE_TEST build error
      ASoC: da7219: Fix build error without CONFIG_I2C

Zhu Yingjiang (2):
      ASoC: SOF: Intel: hda: fix the hda init chip
      ASoC: SOF: Intel: hda: use the defined ppcap functions

---
 include/sound/sof/dai.h                           |   1 +
 include/sound/sof/header.h                        |  23 ++++
 include/sound/sof/info.h                          |  20 ++--
 include/sound/sof/xtensa.h                        |   9 +-
 include/uapi/sound/sof/abi.h                      |   2 +-
 sound/firewire/motu/motu-stream.c                 |   2 +-
 sound/firewire/oxfw/oxfw.c                        |   3 -
 sound/hda/ext/hdac_ext_bus.c                      |   1 -
 sound/pci/hda/hda_codec.c                         |   9 +-
 sound/pci/hda/patch_realtek.c                     |  91 ++++++++++-----
 sound/pci/ice1712/ews.c                           |   2 +-
 sound/soc/codecs/ak4458.c                         |  18 +--
 sound/soc/codecs/cs4265.c                         |   2 +-
 sound/soc/codecs/cs42xx8.c                        |   1 +
 sound/soc/codecs/max98090.c                       |  16 +++
 sound/soc/codecs/rt274.c                          |   3 +-
 sound/soc/codecs/rt5670.c                         |  12 ++
 sound/soc/codecs/rt5677-spi.c                     |   5 +-
 sound/soc/fsl/fsl_asrc.c                          |   4 +-
 sound/soc/intel/atom/sst/sst_pvt.c                |   4 +-
 sound/soc/intel/boards/bytcht_es8316.c            |   2 +-
 sound/soc/intel/boards/cht_bsw_max98090_ti.c      |   2 +-
 sound/soc/intel/boards/cht_bsw_nau8824.c          |   2 +-
 sound/soc/intel/boards/cht_bsw_rt5672.c           |   2 +-
 sound/soc/intel/boards/sof_rt5682.c               |  11 +-
 sound/soc/intel/common/soc-acpi-intel-byt-match.c |  17 +++
 sound/soc/intel/common/soc-acpi-intel-cnl-match.c |  10 +-
 sound/soc/mediatek/Kconfig                        |   2 +-
 sound/soc/soc-core.c                              |  36 +++---
 sound/soc/soc-dapm.c                              |   7 +-
 sound/soc/soc-pcm.c                               |   3 +-
 sound/soc/sof/Kconfig                             |   8 +-
 sound/soc/sof/control.c                           |   9 +-
 sound/soc/sof/core.c                              |  29 ++++-
 sound/soc/sof/intel/bdw.c                         |  26 +++--
 sound/soc/sof/intel/byt.c                         |  25 +++--
 sound/soc/sof/intel/cnl.c                         |   4 +
 sound/soc/sof/intel/hda-ctrl.c                    | 102 +++++++++++++++--
 sound/soc/sof/intel/hda-ipc.c                     |  17 ++-
 sound/soc/sof/intel/hda.c                         | 129 ++++++----------------
 sound/soc/sof/ipc.c                               |  26 ++---
 sound/soc/sof/loader.c                            |   2 +
 sound/soc/sof/pcm.c                               |   8 +-
 sound/soc/sof/xtensa/core.c                       |   2 +-
 sound/soc/sunxi/sun4i-codec.c                     |   9 ++
 sound/soc/sunxi/sun4i-i2s.c                       |   6 +-
 46 files changed, 465 insertions(+), 259 deletions(-)

