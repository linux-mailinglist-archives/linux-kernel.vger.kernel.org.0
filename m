Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 2CD20158BBB
	for <lists+linux-kernel@lfdr.de>; Tue, 11 Feb 2020 10:20:14 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728077AbgBKJUG (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Tue, 11 Feb 2020 04:20:06 -0500
Received: from mx2.suse.de ([195.135.220.15]:33034 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1728064AbgBKJUD (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 11 Feb 2020 04:20:03 -0500
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx2.suse.de (Postfix) with ESMTP id BB304ACCE;
        Tue, 11 Feb 2020 09:20:02 +0000 (UTC)
Date:   Tue, 11 Feb 2020 10:20:02 +0100
Message-ID: <s5ho8u54h19.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Kailang <kailang@realtek.com>
Cc:     Benjamin Poirier <benjamin.poirier@gmail.com>,
        Jaroslav Kysela <perex@perex.cz>,
        "alsa-devel@alsa-project.org" <alsa-devel@alsa-project.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: Re: [PATCH 2/2] ALSA: hda/realtek - Fix Lenovo Thinkpad X1 Carbon 7th quirk value
In-Reply-To: <ab7a0abd24df485d8f8cc3723403a44f@realtek.com>
References: <20200211055651.4405-1-benjamin.poirier@gmail.com>
        <20200211055651.4405-2-benjamin.poirier@gmail.com>
        <b23abac0-401c-9472-320c-4e9d7eab26de@perex.cz>
        <20200211081604.GA8286@f3>
        <ab7a0abd24df485d8f8cc3723403a44f@realtek.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Tue, 11 Feb 2020 10:10:50 +0100,
Kailang wrote:
> 
> Hi,
> 
> Speaker 2 connect to DAC 0x2 was Lenovo requested.
> This was tune for EQ setting.
> I didn't know more for this.

Thanks, that was my expectation, too.  Applying EQ to built-in
speakers is an oft-seen workaround for laptops to avoid the possible
hardware damage.

Now the question is whether this obvious level of lowering is the
expected result.

Kailang, could you try to ask Lenovo about it?


Takashi

> 
> BR,
> Kailang
> 
> > -----Original Message-----
> > From: Benjamin Poirier <benjamin.poirier@gmail.com>
> > Sent: Tuesday, February 11, 2020 4:16 PM
> > To: Jaroslav Kysela <perex@perex.cz>
> > Cc: Takashi Iwai <tiwai@suse.de>; Kailang <kailang@realtek.com>;
> > alsa-devel@alsa-project.org; linux-kernel@vger.kernel.org
> > Subject: Re: [PATCH 2/2] ALSA: hda/realtek - Fix Lenovo Thinkpad X1 Carbon
> > 7th quirk value
> > 
> > On 2020/02/11 08:40 +0100, Jaroslav Kysela wrote:
> > [...]
> > > >
> > > > In summary, Node 0x17 DAC connection 0x3 offers the loudest max
> > > > volume and the most detailed mixer controls. That connection is
> > > > obtained with quirk ALC295_FIXUP_DISABLE_DAC3. Therefore, change the
> > > > ThinkPad X1 Carbon 7th to use ALC295_FIXUP_DISABLE_DAC3.
> > >
> > > The volume split (individual volume control) will cause trouble for
> > > the UCM volume control at the moment which is the target for this
> > > device to get the digital microphone working. If there is no
> > > possibility to share DAC, it would be probably more nice to join the volume
> > control in the driver.
> > >
> > > Have you tried to use 0x03 as source for all four speakers?
> > 
> > Front speakers are fixed to 0x02. Node 0x14
> >   Connection: 1
> >      0x02
> > 
> > >
> > > Why PA handles the rear volume control with the current driver code in
> > > the legacy ALSA driver? It should be handled like standard stereo
> > > device. I'll check.
> > 
> > The device comes up with "Analog Stereo Output" profile by default. I changed
> > it to "Analog Surround 4.0 Output" to test controlling each channel individually:
> > 
> > > > pavucontrol controls are reported with the device configured with
> > > > the "Analog Surround 4.0 Output" profile.
> > 
> > >
> > > You should also test PA with UCM.
> > 
> > Please let me know what do I need to test exactly? I'm not familiar with UCM.
> > 
> > ------Please consider the environment before printing this e-mail.
> 
