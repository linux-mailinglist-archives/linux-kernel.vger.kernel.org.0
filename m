Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id BB99787745
	for <lists+linux-kernel@lfdr.de>; Fri,  9 Aug 2019 12:30:50 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2406347AbfHIKat (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 9 Aug 2019 06:30:49 -0400
Received: from mail3-relais-sop.national.inria.fr ([192.134.164.104]:6130 "EHLO
        mail3-relais-sop.national.inria.fr" rhost-flags-OK-OK-OK-OK)
        by vger.kernel.org with ESMTP id S1726300AbfHIKas (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 9 Aug 2019 06:30:48 -0400
X-IronPort-AV: E=Sophos;i="5.64,364,1559512800"; 
   d="scan'208";a="316007832"
Received: from portablejulia.rsr.lip6.fr ([132.227.76.63])
  by mail3-relais-sop.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 09 Aug 2019 12:30:47 +0200
Date:   Fri, 9 Aug 2019 12:30:46 +0200 (CEST)
From:   Julia Lawall <julia.lawall@lip6.fr>
X-X-Sender: julia@hadrien
To:     Peter Ujfalusi <peter.ujfalusi@ti.com>
cc:     kbuild-all@01.org, Liam Girdwood <lgirdwood@gmail.com>,
        Mark Brown <broonie@kernel.org>,
        Jaroslav Kysela <perex@perex.cz>,
        Takashi Iwai <tiwai@suse.com>, alsa-devel@alsa-project.org,
        linux-kernel@vger.kernel.org
Subject: [PATCH] fix odd_ptr_err.cocci warnings
Message-ID: <alpine.DEB.2.21.1908091229140.2946@hadrien>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

From: kbuild test robot <lkp@intel.com>

 PTR_ERR should normally access the value just tested by IS_ERR

Generated by: scripts/coccinelle/tests/odd_ptr_err.cocci

Fixes: 62c9c1442c8f ("j721e new machine driver wip")
Signed-off-by: kbuild test robot <lkp@intel.com>
Signed-off-by: Julia Lawall <julia.lawall@lip6.fr>
---

tree:   https://github.com/omap-audio/linux-audio peter/ti-linux-4.19.y/wip
head:   62c9c1442c8f61ca93e62e1a9d8318be0abd9d9a
commit: 62c9c1442c8f61ca93e62e1a9d8318be0abd9d9a [34/34] j721e new machine driver wip
:::::: branch date: 20 hours ago
:::::: commit date: 20 hours ago

 j721e-evm.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/sound/soc/ti/j721e-evm.c
+++ b/sound/soc/ti/j721e-evm.c
@@ -283,7 +283,7 @@ static int j721e_get_clocks(struct platf
 		parent = devm_clk_get(&pdev->dev, clk_name);
 		kfree(clk_name);
 		if (IS_ERR(parent)) {
-			ret = PTR_ERR(clocks->parent);
+			ret = PTR_ERR(parent);
 			if (ret != -EPROBE_DEFER)
 				dev_err(&pdev->dev, "failed to acquire %s': %d\n",
 					prefix, ret);
@@ -299,7 +299,7 @@ static int j721e_get_clocks(struct platf
 		parent = devm_clk_get(&pdev->dev, clk_name);
 		kfree(clk_name);
 		if (IS_ERR(parent)) {
-			ret = PTR_ERR(clocks->parent);
+			ret = PTR_ERR(parent);
 			if (ret != -EPROBE_DEFER)
 				dev_err(&pdev->dev, "failed to acquire %s': %d\n",
 					prefix, ret);
