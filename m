Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 73FE718112E
	for <lists+linux-kernel@lfdr.de>; Wed, 11 Mar 2020 07:55:07 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728309AbgCKGyO (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 11 Mar 2020 02:54:14 -0400
Received: from mx2.suse.de ([195.135.220.15]:55904 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1725976AbgCKGyO (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 11 Mar 2020 02:54:14 -0400
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx2.suse.de (Postfix) with ESMTP id C9F22AE39;
        Wed, 11 Mar 2020 06:54:12 +0000 (UTC)
Date:   Wed, 11 Mar 2020 07:54:12 +0100
Message-ID: <s5ho8t39yaz.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Kai-Heng Feng <kai.heng.feng@canonical.com>
Cc:     <tiwai@suse.com>, <alsa-devel@alsa-project.org>,
        <linux-kernel@vger.kernel.org>
Subject: Re: [PATCH] ALSA: hda/realtek: Fix pop noise on ALC225
In-Reply-To: <20200311061328.17614-1-kai.heng.feng@canonical.com>
References: <20200311061328.17614-1-kai.heng.feng@canonical.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Wed, 11 Mar 2020 07:13:28 +0100,
Kai-Heng Feng wrote:
> 
> Commit 317d9313925c ("ALSA: hda/realtek - Set default power save node to
> 0") makes the ALC225 have pop noise on S3 resume and cold boot.
> 
> So partially revert this commit for ALC225 to fix the regression.
> 
> Fixes: 317d9313925c ("ALSA: hda/realtek - Set default power save node to 0")
> BugLink: https://bugs.launchpad.net/bugs/1866357
> Signed-off-by: Kai-Heng Feng <kai.heng.feng@canonical.com>
> ---

Hrm, it's rather surprising.  The power_save_node was thought to be a
cause of the pop noise, but in this case it fixes.  It's interesting
because this codec chip has no loopback mixer, and the connection is
directly from DAC to pin, so in theory, it shouldn't be influenced
from other nodes.

Anyways, a slight concern is that this might cause a regression on
another machine.  But who knows, maybe the influence is very limited.
Let's apply it and see what happens.


thanks,

Takashi
