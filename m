Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 76DED3229C
	for <lists+linux-kernel@lfdr.de>; Sun,  2 Jun 2019 10:05:13 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726360AbfFBIFF (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Sun, 2 Jun 2019 04:05:05 -0400
Received: from mail-wr1-f54.google.com ([209.85.221.54]:40997 "EHLO
        mail-wr1-f54.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1725966AbfFBIFF (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 2 Jun 2019 04:05:05 -0400
Received: by mail-wr1-f54.google.com with SMTP id c2so9190506wrm.8
        for <linux-kernel@vger.kernel.org>; Sun, 02 Jun 2019 01:05:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=sifive.com; s=google;
        h=from:to:subject:date:message-id:mime-version
         :content-transfer-encoding;
        bh=RfBHDW1JUK0JUXgOE+kdqfunwUHLMQw5E4XKM+X0x50=;
        b=Tyvn3lJ+Hn+6mfQzesJkf9ymB8lp12DhLOzE57pnw0t2HwmzHbekPVBhV9ktjkQOUu
         6n1/TKoj0feWHdTLe19UJF5vuQpznNybUIch1N7ay9dq2PlleX0vI6soQs+pcv+c3mbH
         QBqUT0tFP0JGOtyZkmoN2T7nChlW57EOUbNQpW+qZezONAtq4Qa33ThOJYBqKVLEwMeP
         S1ji36QbPE3eDuFmgYBcCFULKxjLK0t96h4zrbqtZccyWnxznyI0PzXLMyPfSYdjHSXS
         Qr3zuZir2LJ3g1RdGQyXnSdv50f9xUbKjZVdqOP/aYtbNb5DvVIsMUbSq9TTlWrmWYv+
         9eSQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:from:to:subject:date:message-id:mime-version
         :content-transfer-encoding;
        bh=RfBHDW1JUK0JUXgOE+kdqfunwUHLMQw5E4XKM+X0x50=;
        b=YmSuyOC2fS+XT7CmybJlVlz1aFQJOyPVHRjijfdFCI1aQjlnBR0GziaaeXRVYpQTnZ
         D7N46qh0ZB7tS8PUWn8Vm9j05tIIBQHux2dO/bddyzcYKf84WuAD4Z68x/4hNxo8eNYc
         BFeNa1rc0tOOjeGbO1z/pJ0+E+qf2K/Km8xOHyOEcuOCNi/4nonF+RSTo+ZpjxOFSdHM
         20/rs0jRK95P1aVSvHMuoNGi/Uy3lVsHk2G3F7WhHGrnwOQbIUkvm5llG2z7ppOSiCL6
         q70mq0ohg0mbXPuErokxA9sqv243VNAM3HwKHbm2qffRR1l8VOtipItMbYxEKTwMz9bh
         bE6Q==
X-Gm-Message-State: APjAAAX8AtcUxh38q61k3y4o9lWt859cCjRdNyi3AmdymjOZGk7bj6Ek
        GY7j3OnYTV+hZlbFLVLgU901UXW6hzQ=
X-Google-Smtp-Source: APXvYqxPpKahl3szXCf32RQ/nitSGGXreypRU0zl7fD72sSc5cnJlU+IQClL5gRggbEud+D4POIfwQ==
X-Received: by 2002:adf:f350:: with SMTP id e16mr4228612wrp.128.1559462703469;
        Sun, 02 Jun 2019 01:05:03 -0700 (PDT)
Received: from viisi.fritz.box (217-76-161-89.static.highway.a1.net. [217.76.161.89])
        by smtp.gmail.com with ESMTPSA id l190sm10186301wml.16.2019.06.02.01.05.02
        (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
        Sun, 02 Jun 2019 01:05:02 -0700 (PDT)
From:   Paul Walmsley <paul.walmsley@sifive.com>
To:     linux-kernel@vger.kernel.org, linux-riscv@lists.infradead.org
Subject: [PATCH v3 0/5] arch: riscv: add board and SoC DT file support
Date:   Sun,  2 Jun 2019 01:04:55 -0700
Message-Id: <20190602080500.31700-1-paul.walmsley@sifive.com>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Add support for building flattened DT files from DT source files under
arch/riscv/boot/dts.  Follow existing kernel precedent from other SoC
architectures.  Start our board support by adding initial support for
the SiFive FU540 SoC and the first development board that uses it, the
SiFive HiFive Unleashed A00.

This third version of the patch set adds I2C data for the chip,
incorporates all remaining changes that riscv-pk was making
automatically, and addresses a comment from Rob Herring
<robh@kernel.org>.

Boot-tested on v5.2-rc1 on a HiFive Unleashed A00 board, using the
BBL and open-source FSBL, with modifications to pass in the DTB
file generated by these patches.

This patch series can be found, along with the PRCI patch set
and the DT macro prerequisite patch, at:

https://github.com/sifive/riscv-linux/tree/dev/paulw/dts-v5.2-rc1


- Paul


Paul Walmsley (5):
  arch: riscv: add support for building DTB files from DT source data
  dt-bindings: riscv: sifive: add YAML documentation for the SiFive
    FU540
  dt-bindings: riscv: convert cpu binding to json-schema
  riscv: dts: add initial support for the SiFive FU540-C000 SoC
  riscv: dts: add initial board data for the SiFive HiFive Unleashed

 .../devicetree/bindings/riscv/cpus.yaml       | 168 ++++++++++++++
 .../devicetree/bindings/riscv/sifive.yaml     |  25 ++
 MAINTAINERS                                   |   9 +
 arch/riscv/boot/dts/Makefile                  |   2 +
 arch/riscv/boot/dts/sifive/Makefile           |   2 +
 arch/riscv/boot/dts/sifive/fu540-c000.dtsi    | 215 ++++++++++++++++++
 .../boot/dts/sifive/hifive-unleashed-a00.dts  |  67 ++++++
 7 files changed, 488 insertions(+)
 create mode 100644 Documentation/devicetree/bindings/riscv/cpus.yaml
 create mode 100644 Documentation/devicetree/bindings/riscv/sifive.yaml
 create mode 100644 arch/riscv/boot/dts/Makefile
 create mode 100644 arch/riscv/boot/dts/sifive/Makefile
 create mode 100644 arch/riscv/boot/dts/sifive/fu540-c000.dtsi
 create mode 100644 arch/riscv/boot/dts/sifive/hifive-unleashed-a00.dts

-- 
2.20.1

