Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 58CC0193261
	for <lists+linux-kernel@lfdr.de>; Wed, 25 Mar 2020 22:13:23 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727464AbgCYVNW (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 25 Mar 2020 17:13:22 -0400
Received: from mout.kundenserver.de ([212.227.17.10]:53325 "EHLO
        mout.kundenserver.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1727357AbgCYVNV (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 25 Mar 2020 17:13:21 -0400
Received: from mail-qk1-f170.google.com ([209.85.222.170]) by
 mrelayeu.kundenserver.de (mreue106 [212.227.15.145]) with ESMTPSA (Nemesis)
 id 1N5FQJ-1jQfbG41CP-01178k; Wed, 25 Mar 2020 22:13:20 +0100
Received: by mail-qk1-f170.google.com with SMTP id o10so4229550qki.10;
        Wed, 25 Mar 2020 14:13:19 -0700 (PDT)
X-Gm-Message-State: ANhLgQ0LONAbeSxw4khp+j5NYRVO/giJMuxHjWYdo4nsNufUq1zmcG64
        ZURuF/A0KxW13qXAdek2oFToUPzgoN3XaHmHz6o=
X-Google-Smtp-Source: ADFU+vu9l/z+oM0lxSfEA0g3Poid+2S8rWoUyL4yoOgi/cbZMJnhoiOFpbVGBHfvi6Rzso58zdS/a4b1BFTBjUGoCJc=
X-Received: by 2002:a37:6285:: with SMTP id w127mr4965337qkb.138.1585170798637;
 Wed, 25 Mar 2020 14:13:18 -0700 (PDT)
MIME-Version: 1.0
References: <20200302020757.551483-1-bjorn.andersson@linaro.org>
In-Reply-To: <20200302020757.551483-1-bjorn.andersson@linaro.org>
From:   Arnd Bergmann <arnd@arndb.de>
Date:   Wed, 25 Mar 2020 22:13:02 +0100
X-Gmail-Original-Message-ID: <CAK8P3a1QZbpYV8juTb31-CXQMVF==qFjJdRd064Md_rw5V7Vnw@mail.gmail.com>
Message-ID: <CAK8P3a1QZbpYV8juTb31-CXQMVF==qFjJdRd064Md_rw5V7Vnw@mail.gmail.com>
Subject: Re: [PATCH] arm64: dts: qcom: sdm845-mtp: Relocate remoteproc firmware
To:     Bjorn Andersson <bjorn.andersson@linaro.org>
Cc:     Andy Gross <agross@kernel.org>, Rob Herring <robh+dt@kernel.org>,
        linux-arm-msm <linux-arm-msm@vger.kernel.org>,
        DTML <devicetree@vger.kernel.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
X-Provags-ID: V03:K1:23AlKoK7JfyvIqlkPc2VNTcV1RVX6tcnr2s1dZFIRMkWYb7/awp
 ToEpktsd3CItXRFAKCESrsG53CRGbCXOwV2fH9Rz/yBIlqzgYngxZkOEQC2ynk4arBSE5tL
 CslJuye1gSg+YynI0TyV0P7tOcgysN7S8JhG1ptU3k0+HOtWz4Bwdo9GHN+p4hFwT1Z6xK8
 x8pb2A05E5bWaPhQOLnRw==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:80eBV72EX1k=:5PQ4T/KOmiq/GiMZnDYD8K
 H/yEaQViDU7LY+uGNFn5GRXtLk0i9D4tv7DUcWPYn5ALhKUx6hD9eS2aQlVd3q2oL0pX77h3X
 UsmgHW/67rZrNfRfGwT6xr6Hr9hSzi2maKVpuu7h47p5dNPFW+k/rTm7+kkIjdzMzgLjpUBMm
 YN5MoWcDZBsCovQt+zH1roRUWWSNiHuHwJil1WQUduppWN0xTITPDNPT0zVVU7XGOAUq8Jx2f
 xm8F1fHEauh2wKQab8dM24NseCAQz4+2Mm2XXcZypcYAJbX9cXQdNIpsE5ocD9GMWwsA38zRX
 3Rag2GtLyfYr1tw80sk/rRoi63R31qRuaxZA645ZHi+83lqmsQS01feFr0TuMxSlgHDOi8Q61
 2/D+L0qiZWvIreH7saLip87Eq2Cy3udR1rfa95HLDwqeCyfsS847eruetwlsi2I5bOu+ExL63
 iacvaztwU9JNsBRNb3mwl1xbABcPKvXalE7A+KgZiUZiAwU433iZUydR8gkSczBzkwRQ1UKLT
 HRbavrgty6wlGCgBIFvPehF5qZQ3c0c3vrKsG1QtCgtzvzwFKgVLpch5DjGyzlLBSO36C6Pk/
 /7Ju8OEseF7iKN174DpfAFaav6yqIY+x4DGQbtbog2Rb6pGMa6bav5CKl12696bT2vvRWWodu
 4rsrtUCl1oVCGVPbkKBav0oGZ9sZBwIbj98jcy+HejBI3oaZZe2GRFmtDGOOxmUU0WYA1UMcs
 qfkVeY7DyFya+dqGkBiWOhO5oaDxTF2fOCfYyIDNEMinokmnJYxa7BKT/JSqog8l93tgqvb6G
 snyKyPwJ2lXSaIKBTizN93rWTDdldTZwoRizbxg77RTtIUjJYA=
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Mon, Mar 2, 2020 at 3:09 AM Bjorn Andersson
<bjorn.andersson@linaro.org> wrote:
>
> Update the firmware-name of the remoteproc nodes to mimic the firmware
> structure on other 845 devices.
>
> Signed-off-by: Bjorn Andersson <bjorn.andersson@linaro.org>
> ---
>  arch/arm64/boot/dts/qcom/sdm845-mtp.dts | 7 +++++++
>  1 file changed, 7 insertions(+)

Hi Bjorn,

Sorry for the late reply, I only came across this one while going
through the pull requests
that we had failed to pick up earlier.

I really dislike the idea of hardcoding a firmware name in the
devicetree, we had long
discussions about this a few years ago and basically concluded that the firmware
name needs to be generated by the driver after identifying the hardware itself.

The problem is that the firmware generally needs to match both the device driver
and the hardware, so when there is a firmware update that changes the behavior
(intentionally or not) in a way the driver needs to know about, then
the driver should
be able to request a particular firmware file based on information
that the owner
of the dtb may not have.

I'm holding off on the pull request for today, maybe there is something we can
still do about it before the merge window.

        Arnd
