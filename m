Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 38D8E1241BC
	for <lists+linux-kernel@lfdr.de>; Wed, 18 Dec 2019 09:31:33 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726879AbfLRIbN (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 18 Dec 2019 03:31:13 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:22872 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726613AbfLRIbG (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 18 Dec 2019 03:31:06 -0500
X-UUID: c4e1d17c0980438eb24ca22c00642f4a-20191218
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=QEwyqIJvggztCyvb4YrJ/CReIcLAWVSBtZR8Bp8ykRI=;
        b=qnQw/WnXcHnUlAALBFUZAuC9bkyedqubU1KzHWQw35UhG623xw2rFO00o/2Zw1Svj9ZvNhiQb8EbT0FiAyhVitNMwwygcWJR/lVgXHOPWOfFSYnHikcTnrfhdOcR4l2O/OT+ybTPtMry3zFmfFp00p9pEDDjsed/EUkbx0fHtRU=;
X-UUID: c4e1d17c0980438eb24ca22c00642f4a-20191218
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <weiyi.lu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 321146330; Wed, 18 Dec 2019 16:30:59 +0800
Received: from mtkcas07.mediatek.inc (172.21.101.84) by
 mtkmbs02n2.mediatek.inc (172.21.101.101) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Wed, 18 Dec 2019 16:30:26 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by mtkcas07.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Wed, 18 Dec 2019 16:30:29 +0800
From:   Weiyi Lu <weiyi.lu@mediatek.com>
To:     Nicolas Boichat <drinkcat@chromium.org>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Rob Herring <robh@kernel.org>,
        Sascha Hauer <kernel@pengutronix.de>
CC:     James Liao <jamesjj.liao@mediatek.com>,
        Fan Chen <fan.chen@mediatek.com>,
        <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>,
        <srv_heupstream@mediatek.com>, Weiyi Lu <weiyi.lu@mediatek.com>
Subject: [PATCH v10 06/12] soc: mediatek: Use bp_table for all compatibles
Date:   Wed, 18 Dec 2019 16:30:42 +0800
Message-ID: <1576657848-14711-7-git-send-email-weiyi.lu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1576657848-14711-1-git-send-email-weiyi.lu@mediatek.com>
References: <1576657848-14711-1-git-send-email-weiyi.lu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-TM-SNTS-SMTP: 6C553B17E6A1331978AA3535826A05B4688E53478A7B699D0D07CDDF55E4A8212000:8
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

T25seSB1c2UgYnBfdGFibGUgZm9yIGJ1cyBwcm90ZWN0aW9uIG9mIGFsbCBjb21wYXRpYmxlcywN
Cmluc3RlYWQgb2YgbWl4aW5nIGJ1c19wcm90X21hc2sgYW5kIGJ1c19wcm90X3JlZ191cGRhdGUu
DQoNClNpZ25lZC1vZmYtYnk6IFdlaXlpIEx1IDx3ZWl5aS5sdUBtZWRpYXRlay5jb20+DQotLS0N
CiBkcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstc2Nwc3lzLmMgfCA5NCArKysrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tLS0tLS0NCiAxIGZpbGUgY2hhbmdlZCwgNDggaW5zZXJ0aW9ucygr
KSwgNDYgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL3NvYy9tZWRpYXRlay9t
dGstc2Nwc3lzLmMgYi9kcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstc2Nwc3lzLmMNCmluZGV4IDU2
OTlkOWYuLmM0MzhjNTMgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstc2Nw
c3lzLmMNCisrKyBiL2RyaXZlcnMvc29jL21lZGlhdGVrL210ay1zY3BzeXMuYw0KQEAgLTExLDcg
KzExLDYgQEANCiAjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+DQogI2luY2x1ZGUg
PGxpbnV4L3BtX2RvbWFpbi5oPg0KICNpbmNsdWRlIDxsaW51eC9yZWd1bGF0b3IvY29uc3VtZXIu
aD4NCi0jaW5jbHVkZSA8bGludXgvc29jL21lZGlhdGVrL2luZnJhY2ZnLmg+DQogI2luY2x1ZGUg
PGxpbnV4L3NvYy9tZWRpYXRlay9zY3BzeXMtZXh0Lmg+DQogDQogI2luY2x1ZGUgPGR0LWJpbmRp
bmdzL3Bvd2VyL210MjcwMS1wb3dlci5oPg0KQEAgLTg4LDcgKzg3LDYgQEANCiAgKiBAY3RsX29m
ZnM6IFRoZSBvZmZzZXQgZm9yIG1haW4gcG93ZXIgY29udHJvbCByZWdpc3Rlci4NCiAgKiBAc3Jh
bV9wZG5fYml0czogVGhlIG1hc2sgZm9yIHNyYW0gcG93ZXIgY29udHJvbCBiaXRzLg0KICAqIEBz
cmFtX3Bkbl9hY2tfYml0czogVGhlIG1hc2sgZm9yIHNyYW0gcG93ZXIgY29udHJvbCBhY2tlZCBi
aXRzLg0KLSAqIEBidXNfcHJvdF9tYXNrOiBUaGUgbWFzayBmb3Igc2luZ2xlIHN0ZXAgYnVzIHBy
b3RlY3Rpb24uDQogICogQGJhc2ljX2Nsa19uYW1lOiBUaGUgYmFzaWMgY2xvY2tzIHJlcXVpcmVk
IGJ5IHRoaXMgcG93ZXIgZG9tYWluLg0KICAqIEBjYXBzOiBUaGUgZmxhZyBmb3IgYWN0aXZlIHdh
a2UtdXAgYWN0aW9uLg0KICAqIEBicF90YWJsZTogVGhlIG1hc2sgdGFibGUgZm9yIG11bHRpcGxl
IHN0ZXAgYnVzIHByb3RlY3Rpb24uDQpAQCAtOTksNyArOTcsNiBAQCBzdHJ1Y3Qgc2NwX2RvbWFp
bl9kYXRhIHsNCiAJaW50IGN0bF9vZmZzOw0KIAl1MzIgc3JhbV9wZG5fYml0czsNCiAJdTMyIHNy
YW1fcGRuX2Fja19iaXRzOw0KLQl1MzIgYnVzX3Byb3RfbWFzazsNCiAJY29uc3QgY2hhciAqYmFz
aWNfY2xrX25hbWVbTUFYX0NMS1NdOw0KIAl1OCBjYXBzOw0KIAlzdHJ1Y3QgYnVzX3Byb3QgYnBf
dGFibGVbTUFYX1NURVBTXTsNCkBAIC0xMjgsNyArMTI1LDYgQEAgc3RydWN0IHNjcCB7DQogCXN0
cnVjdCByZWdtYXAgKmluZnJhY2ZnOw0KIAlzdHJ1Y3QgcmVnbWFwICpzbWlfY29tbW9uOw0KIAlz
dHJ1Y3Qgc2NwX2N0cmxfcmVnIGN0cmxfcmVnOw0KLQlib29sIGJ1c19wcm90X3JlZ191cGRhdGU7
DQogfTsNCiANCiBzdHJ1Y3Qgc2NwX3N1YmRvbWFpbiB7DQpAQCAtMTQyLDcgKzEzOCw2IEBAIHN0
cnVjdCBzY3Bfc29jX2RhdGEgew0KIAljb25zdCBzdHJ1Y3Qgc2NwX3N1YmRvbWFpbiAqc3ViZG9t
YWluczsNCiAJaW50IG51bV9zdWJkb21haW5zOw0KIAljb25zdCBzdHJ1Y3Qgc2NwX2N0cmxfcmVn
IHJlZ3M7DQotCWJvb2wgYnVzX3Byb3RfcmVnX3VwZGF0ZTsNCiB9Ow0KIA0KIHN0YXRpYyBpbnQg
c2Nwc3lzX2RvbWFpbl9pc19vbihzdHJ1Y3Qgc2NwX2RvbWFpbiAqc2NwZCkNCkBAIC0yNTYsMTIg
KzI1MSw2IEBAIHN0YXRpYyBpbnQgc2Nwc3lzX2J1c19wcm90ZWN0X2VuYWJsZShzdHJ1Y3Qgc2Nw
X2RvbWFpbiAqc2NwZCkNCiB7DQogCXN0cnVjdCBzY3AgKnNjcCA9IHNjcGQtPnNjcDsNCiANCi0J
aWYgKHNjcGQtPmRhdGEtPmJ1c19wcm90X21hc2spIHsNCi0JCXJldHVybiBtdGtfaW5mcmFjZmdf
c2V0X2J1c19wcm90ZWN0aW9uKHNjcC0+aW5mcmFjZmcsDQotCQkJCXNjcGQtPmRhdGEtPmJ1c19w
cm90X21hc2ssDQotCQkJCXNjcC0+YnVzX3Byb3RfcmVnX3VwZGF0ZSk7DQotCX0NCi0NCiAJcmV0
dXJuIG10a19zY3BzeXNfZXh0X3NldF9idXNfcHJvdGVjdGlvbihzY3BkLT5kYXRhLT5icF90YWJs
ZSwNCiAJCQlzY3AtPmluZnJhY2ZnLCBzY3AtPnNtaV9jb21tb24pOw0KIH0NCkBAIC0yNzAsMTIg
KzI1OSw2IEBAIHN0YXRpYyBpbnQgc2Nwc3lzX2J1c19wcm90ZWN0X2Rpc2FibGUoc3RydWN0IHNj
cF9kb21haW4gKnNjcGQpDQogew0KIAlzdHJ1Y3Qgc2NwICpzY3AgPSBzY3BkLT5zY3A7DQogDQot
CWlmIChzY3BkLT5kYXRhLT5idXNfcHJvdF9tYXNrKSB7DQotCQlyZXR1cm4gbXRrX2luZnJhY2Zn
X2NsZWFyX2J1c19wcm90ZWN0aW9uKHNjcC0+aW5mcmFjZmcsDQotCQkJCXNjcGQtPmRhdGEtPmJ1
c19wcm90X21hc2ssDQotCQkJCXNjcC0+YnVzX3Byb3RfcmVnX3VwZGF0ZSk7DQotCX0NCi0NCiAJ
cmV0dXJuIG10a19zY3BzeXNfZXh0X2NsZWFyX2J1c19wcm90ZWN0aW9uKHNjcGQtPmRhdGEtPmJw
X3RhYmxlLA0KIAkJCXNjcC0+aW5mcmFjZmcsIHNjcC0+c21pX2NvbW1vbik7DQogfQ0KQEAgLTQx
Miw4ICszOTUsNyBAQCBzdGF0aWMgaW50IGluaXRfYmFzaWNfY2xrcyhzdHJ1Y3QgcGxhdGZvcm1f
ZGV2aWNlICpwZGV2LCBzdHJ1Y3QgY2xrICoqY2xrLA0KIA0KIHN0YXRpYyBzdHJ1Y3Qgc2NwICpp
bml0X3NjcChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LA0KIAkJCWNvbnN0IHN0cnVjdCBz
Y3BfZG9tYWluX2RhdGEgKnNjcF9kb21haW5fZGF0YSwgaW50IG51bSwNCi0JCQljb25zdCBzdHJ1
Y3Qgc2NwX2N0cmxfcmVnICpzY3BfY3RybF9yZWcsDQotCQkJYm9vbCBidXNfcHJvdF9yZWdfdXBk
YXRlKQ0KKwkJCWNvbnN0IHN0cnVjdCBzY3BfY3RybF9yZWcgKnNjcF9jdHJsX3JlZykNCiB7DQog
CXN0cnVjdCBnZW5wZF9vbmVjZWxsX2RhdGEgKnBkX2RhdGE7DQogCXN0cnVjdCByZXNvdXJjZSAq
cmVzOw0KQEAgLTQyNyw4ICs0MDksNiBAQCBzdGF0aWMgc3RydWN0IHNjcCAqaW5pdF9zY3Aoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJc2NwLT5jdHJsX3JlZy5wd3Jfc3RhX29mZnMg
PSBzY3BfY3RybF9yZWctPnB3cl9zdGFfb2ZmczsNCiAJc2NwLT5jdHJsX3JlZy5wd3Jfc3RhMm5k
X29mZnMgPSBzY3BfY3RybF9yZWctPnB3cl9zdGEybmRfb2ZmczsNCiANCi0Jc2NwLT5idXNfcHJv
dF9yZWdfdXBkYXRlID0gYnVzX3Byb3RfcmVnX3VwZGF0ZTsNCi0NCiAJc2NwLT5kZXYgPSAmcGRl
di0+ZGV2Ow0KIA0KIAlyZXMgPSBwbGF0Zm9ybV9nZXRfcmVzb3VyY2UocGRldiwgSU9SRVNPVVJD
RV9NRU0sIDApOw0KQEAgLTU0OSw4ICs1MjksMTAgQEAgc3RhdGljIHZvaWQgbXRrX3JlZ2lzdGVy
X3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJCS5uYW1lID0g
ImNvbm4iLA0KIAkJLnN0YV9tYXNrID0gUFdSX1NUQVRVU19DT05OLA0KIAkJLmN0bF9vZmZzID0g
U1BNX0NPTk5fUFdSX0NPTiwNCi0JCS5idXNfcHJvdF9tYXNrID0gTVQyNzAxX1RPUF9BWElfUFJP
VF9FTl9DT05OX00gfA0KLQkJCQkgTVQyNzAxX1RPUF9BWElfUFJPVF9FTl9DT05OX1MsDQorCQku
YnBfdGFibGUgPSB7DQorCQkJQlVTX1BST1QoSUZSX1RZUEUsIDAsIDAsIDB4MjIwLCAweDIyOCwN
CisJCQkJQklUKDIpIHwgQklUKDgpLCBCSVQoMikgfCBCSVQoOCkpLA0KKwkJfSwNCiAJCS5jYXBz
ID0gTVRLX1NDUERfQUNUSVZFX1dBS0VVUCwNCiAJfSwNCiAJW01UMjcwMV9QT1dFUl9ET01BSU5f
RElTUF0gPSB7DQpAQCAtNTU5LDcgKzU0MSwxMCBAQCBzdGF0aWMgdm9pZCBtdGtfcmVnaXN0ZXJf
cG93ZXJfZG9tYWlucyhzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LA0KIAkJLmN0bF9vZmZz
ID0gU1BNX0RJU19QV1JfQ09OLA0KIAkJLnNyYW1fcGRuX2JpdHMgPSBHRU5NQVNLKDExLCA4KSwN
CiAJCS5iYXNpY19jbGtfbmFtZSA9IHsibW0ifSwNCi0JCS5idXNfcHJvdF9tYXNrID0gTVQyNzAx
X1RPUF9BWElfUFJPVF9FTl9NTV9NMCwNCisJCS5icF90YWJsZSA9IHsNCisJCQlCVVNfUFJPVChJ
RlJfVFlQRSwgMCwgMCwgMHgyMjAsIDB4MjI4LA0KKwkJCQlCSVQoMSksIEJJVCgxKSksDQorCQl9
LA0KIAkJLmNhcHMgPSBNVEtfU0NQRF9BQ1RJVkVfV0FLRVVQLA0KIAl9LA0KIAlbTVQyNzAxX1BP
V0VSX0RPTUFJTl9NRkddID0gew0KQEAgLTY5NCw3ICs2NzksMTEgQEAgc3RhdGljIHZvaWQgbXRr
X3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJ
CS5zcmFtX3Bkbl9iaXRzID0gR0VOTUFTSyg4LCA4KSwNCiAJCS5zcmFtX3Bkbl9hY2tfYml0cyA9
IEdFTk1BU0soMTYsIDE2KSwNCiAJCS5iYXNpY19jbGtfbmFtZSA9IHsibWZnIn0sDQotCQkuYnVz
X3Byb3RfbWFzayA9IEJJVCgxNCkgfCBCSVQoMjEpIHwgQklUKDIzKSwNCisJCS5icF90YWJsZSA9
IHsNCisJCQlCVVNfUFJPVChJRlJfVFlQRSwgMHgyNjAsIDB4MjY0LCAweDIyMCwgMHgyMjgsDQor
CQkJCUJJVCgxNCkgfCBCSVQoMjEpIHwgQklUKDIzKSwNCisJCQkJQklUKDE0KSB8IEJJVCgyMSkg
fCBCSVQoMjMpKSwNCisJCX0sDQogCQkuY2FwcyA9IE1US19TQ1BEX0FDVElWRV9XQUtFVVAsDQog
CX0sDQogCVtNVDI3MTJfUE9XRVJfRE9NQUlOX01GR19TQzFdID0gew0KQEAgLTc2Niw3ICs3NTUs
MTAgQEAgc3RhdGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldiwNCiAJCS5zcmFtX3Bkbl9iaXRzID0gR0VOTUFTSyg4LCA4KSwNCiAJ
CS5zcmFtX3Bkbl9hY2tfYml0cyA9IEdFTk1BU0soMTIsIDEyKSwNCiAJCS5iYXNpY19jbGtfbmFt
ZSA9IHsibW0ifSwNCi0JCS5idXNfcHJvdF9tYXNrID0gKEJJVCgxKSB8IEJJVCgyKSksDQorCQku
YnBfdGFibGUgPSB7DQorCQkJQlVTX1BST1QoSUZSX1RZUEUsIDAsIDAsIDB4MjIwLCAweDIyOCwN
CisJCQkJQklUKDEpIHwgQklUKDIpLCBCSVQoMSkgfCBCSVQoMikpLA0KKwkJfSwNCiAJfSwNCiAJ
W01UNjc5N19QT1dFUl9ET01BSU5fQVVESU9dID0gew0KIAkJLm5hbWUgPSAiYXVkaW8iLA0KQEAg
LTgxMyw3ICs4MDUsMTAgQEAgc3RhdGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJCS5jdGxfb2ZmcyA9IFNQTV9FVEhTWVNf
UFdSX0NPTiwNCiAJCS5zcmFtX3Bkbl9iaXRzID0gR0VOTUFTSygxMSwgOCksDQogCQkuc3JhbV9w
ZG5fYWNrX2JpdHMgPSBHRU5NQVNLKDE1LCAxMiksDQotCQkuYnVzX3Byb3RfbWFzayA9IE1UNzYy
Ml9UT1BfQVhJX1BST1RfRU5fRVRIU1lTLA0KKwkJLmJwX3RhYmxlID0gew0KKwkJCUJVU19QUk9U
KElGUl9UWVBFLCAwLCAwLCAweDIyMCwgMHgyMjgsDQorCQkJCUJJVCgzKSB8IEJJVCgxNyksIEJJ
VCgzKSB8IEJJVCgxNykpLA0KKwkJfSwNCiAJCS5jYXBzID0gTVRLX1NDUERfQUNUSVZFX1dBS0VV
UCwNCiAJfSwNCiAJW01UNzYyMl9QT1dFUl9ET01BSU5fSElGMF0gPSB7DQpAQCAtODIzLDcgKzgx
OCwxMCBAQCBzdGF0aWMgdm9pZCBtdGtfcmVnaXN0ZXJfcG93ZXJfZG9tYWlucyhzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2LA0KIAkJLnNyYW1fcGRuX2JpdHMgPSBHRU5NQVNLKDExLCA4KSwN
CiAJCS5zcmFtX3Bkbl9hY2tfYml0cyA9IEdFTk1BU0soMTUsIDEyKSwNCiAJCS5iYXNpY19jbGtf
bmFtZSA9IHsiaGlmX3NlbCJ9LA0KLQkJLmJ1c19wcm90X21hc2sgPSBNVDc2MjJfVE9QX0FYSV9Q
Uk9UX0VOX0hJRjAsDQorCQkuYnBfdGFibGUgPSB7DQorCQkJQlVTX1BST1QoSUZSX1RZUEUsIDAs
IDAsIDB4MjIwLCAweDIyOCwNCisJCQkJQklUKDI0KSB8IEJJVCgyNSksIEJJVCgyNCkgfCBCSVQo
MjUpKSwNCisJCX0sDQogCQkuY2FwcyA9IE1US19TQ1BEX0FDVElWRV9XQUtFVVAsDQogCX0sDQog
CVtNVDc2MjJfUE9XRVJfRE9NQUlOX0hJRjFdID0gew0KQEAgLTgzMyw3ICs4MzEsMTAgQEAgc3Rh
dGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldiwNCiAJCS5zcmFtX3Bkbl9iaXRzID0gR0VOTUFTSygxMSwgOCksDQogCQkuc3JhbV9w
ZG5fYWNrX2JpdHMgPSBHRU5NQVNLKDE1LCAxMiksDQogCQkuYmFzaWNfY2xrX25hbWUgPSB7Imhp
Zl9zZWwifSwNCi0JCS5idXNfcHJvdF9tYXNrID0gTVQ3NjIyX1RPUF9BWElfUFJPVF9FTl9ISUYx
LA0KKwkJLmJwX3RhYmxlID0gew0KKwkJCUJVU19QUk9UKElGUl9UWVBFLCAwLCAwLCAweDIyMCwg
MHgyMjgsDQorCQkJCUdFTk1BU0soMjgsIDI2KSwgR0VOTUFTSygyOCwgMjYpKSwNCisJCX0sDQog
CQkuY2FwcyA9IE1US19TQ1BEX0FDVElWRV9XQUtFVVAsDQogCX0sDQogCVtNVDc2MjJfUE9XRVJf
RE9NQUlOX1dCXSA9IHsNCkBAIC04NDIsNyArODQzLDEwIEBAIHN0YXRpYyB2b2lkIG10a19yZWdp
c3Rlcl9wb3dlcl9kb21haW5zKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsDQogCQkuY3Rs
X29mZnMgPSBTUE1fV0JfUFdSX0NPTiwNCiAJCS5zcmFtX3Bkbl9iaXRzID0gMCwNCiAJCS5zcmFt
X3Bkbl9hY2tfYml0cyA9IDAsDQotCQkuYnVzX3Byb3RfbWFzayA9IE1UNzYyMl9UT1BfQVhJX1BS
T1RfRU5fV0IsDQorCQkuYnBfdGFibGUgPSB7DQorCQkJQlVTX1BST1QoSUZSX1RZUEUsIDAsIDAs
IDB4MjIwLCAweDIyOCwNCisJCQkJQklUKDIpIHwgR0VOTUFTSyg4LCA2KSwgQklUKDIpIHwgR0VO
TUFTSyg4LCA2KSksDQorCQl9LA0KIAkJLmNhcHMgPSBNVEtfU0NQRF9BQ1RJVkVfV0FLRVVQIHwg
TVRLX1NDUERfRldBSVRfU1JBTSwNCiAJfSwNCiB9Ow0KQEAgLTg1Niw4ICs4NjAsMTAgQEAgc3Rh
dGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldiwNCiAJCS5uYW1lID0gImNvbm4iLA0KIAkJLnN0YV9tYXNrID0gUFdSX1NUQVRVU19D
T05OLA0KIAkJLmN0bF9vZmZzID0gU1BNX0NPTk5fUFdSX0NPTiwNCi0JCS5idXNfcHJvdF9tYXNr
ID0gTVQyNzAxX1RPUF9BWElfUFJPVF9FTl9DT05OX00gfA0KLQkJCQkgTVQyNzAxX1RPUF9BWElf
UFJPVF9FTl9DT05OX1MsDQorCQkuYnBfdGFibGUgPSB7DQorCQkJQlVTX1BST1QoSUZSX1RZUEUs
IDAsIDAsIDB4MjIwLCAweDIyOCwNCisJCQkJQklUKDIpIHwgQklUKDgpLCBCSVQoMikgfCBCSVQo
OCkpLA0KKwkJfSwNCiAJCS5jYXBzID0gTVRLX1NDUERfQUNUSVZFX1dBS0VVUCwNCiAJfSwNCiAJ
W01UNzYyM0FfUE9XRVJfRE9NQUlOX0VUSF0gPSB7DQpAQCAtOTIyLDggKzkyOCwxMCBAQCBzdGF0
aWMgdm9pZCBtdGtfcmVnaXN0ZXJfcG93ZXJfZG9tYWlucyhzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2LA0KIAkJLnNyYW1fcGRuX2JpdHMgPSBHRU5NQVNLKDExLCA4KSwNCiAJCS5zcmFtX3Bk
bl9hY2tfYml0cyA9IEdFTk1BU0soMTIsIDEyKSwNCiAJCS5iYXNpY19jbGtfbmFtZSA9IHsibW0i
fSwNCi0JCS5idXNfcHJvdF9tYXNrID0gTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9NTV9NMCB8DQot
CQkJTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9NTV9NMSwNCisJCS5icF90YWJsZSA9IHsNCisJCQlC
VVNfUFJPVChJRlJfVFlQRSwgMCwgMCwgMHgyMjAsIDB4MjI4LA0KKwkJCQlCSVQoMSkgfCBCSVQo
MiksIEJJVCgxKSB8IEJJVCgyKSksDQorCQl9LA0KIAl9LA0KIAlbTVQ4MTczX1BPV0VSX0RPTUFJ
Tl9WRU5DX0xUXSA9IHsNCiAJCS5uYW1lID0gInZlbmNfbHQiLA0KQEAgLTk2OSwxMCArOTc3LDEx
IEBAIHN0YXRpYyB2b2lkIG10a19yZWdpc3Rlcl9wb3dlcl9kb21haW5zKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYsDQogCQkuY3RsX29mZnMgPSBTUE1fTUZHX1BXUl9DT04sDQogCQkuc3Jh
bV9wZG5fYml0cyA9IEdFTk1BU0soMTMsIDgpLA0KIAkJLnNyYW1fcGRuX2Fja19iaXRzID0gR0VO
TUFTSygyMSwgMTYpLA0KLQkJLmJ1c19wcm90X21hc2sgPSBNVDgxNzNfVE9QX0FYSV9QUk9UX0VO
X01GR19TIHwNCi0JCQlNVDgxNzNfVE9QX0FYSV9QUk9UX0VOX01GR19NMCB8DQotCQkJTVQ4MTcz
X1RPUF9BWElfUFJPVF9FTl9NRkdfTTEgfA0KLQkJCU1UODE3M19UT1BfQVhJX1BST1RfRU5fTUZH
X1NOT09QX09VVCwNCisJCS5icF90YWJsZSA9IHsNCisJCQlCVVNfUFJPVChJRlJfVFlQRSwgMCwg
MCwgMHgyMjAsIDB4MjI4LA0KKwkJCQlCSVQoMTQpIHwgR0VOTUFTSygyMywgMjEpLA0KKwkJCQlC
SVQoMTQpIHwgR0VOTUFTSygyMywgMjEpKSwNCisJCX0sDQogCX0sDQogfTsNCiANCkBAIC05ODgs
NyArOTk3LDYgQEAgc3RhdGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0
IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJCS5wd3Jfc3RhX29mZnMgPSBTUE1fUFdSX1NUQVRV
UywNCiAJCS5wd3Jfc3RhMm5kX29mZnMgPSBTUE1fUFdSX1NUQVRVU18yTkQNCiAJfSwNCi0JLmJ1
c19wcm90X3JlZ191cGRhdGUgPSB0cnVlLA0KIH07DQogDQogc3RhdGljIGNvbnN0IHN0cnVjdCBz
Y3Bfc29jX2RhdGEgbXQyNzEyX2RhdGEgPSB7DQpAQCAtMTAwMCw3ICsxMDA4LDYgQEAgc3RhdGlj
IHZvaWQgbXRrX3JlZ2lzdGVyX3Bvd2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldiwNCiAJCS5wd3Jfc3RhX29mZnMgPSBTUE1fUFdSX1NUQVRVUywNCiAJCS5wd3Jfc3RhMm5k
X29mZnMgPSBTUE1fUFdSX1NUQVRVU18yTkQNCiAJfSwNCi0JLmJ1c19wcm90X3JlZ191cGRhdGUg
PSBmYWxzZSwNCiB9Ow0KIA0KIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc2NwX3NvY19kYXRhIG10Njc5
N19kYXRhID0gew0KQEAgLTEwMTIsNyArMTAxOSw2IEBAIHN0YXRpYyB2b2lkIG10a19yZWdpc3Rl
cl9wb3dlcl9kb21haW5zKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsDQogCQkucHdyX3N0
YV9vZmZzID0gU1BNX1BXUl9TVEFUVVNfTVQ2Nzk3LA0KIAkJLnB3cl9zdGEybmRfb2ZmcyA9IFNQ
TV9QV1JfU1RBVFVTXzJORF9NVDY3OTcNCiAJfSwNCi0JLmJ1c19wcm90X3JlZ191cGRhdGUgPSB0
cnVlLA0KIH07DQogDQogc3RhdGljIGNvbnN0IHN0cnVjdCBzY3Bfc29jX2RhdGEgbXQ3NjIyX2Rh
dGEgPSB7DQpAQCAtMTAyMiw3ICsxMDI4LDYgQEAgc3RhdGljIHZvaWQgbXRrX3JlZ2lzdGVyX3Bv
d2VyX2RvbWFpbnMoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwNCiAJCS5wd3Jfc3RhX29m
ZnMgPSBTUE1fUFdSX1NUQVRVUywNCiAJCS5wd3Jfc3RhMm5kX29mZnMgPSBTUE1fUFdSX1NUQVRV
U18yTkQNCiAJfSwNCi0JLmJ1c19wcm90X3JlZ191cGRhdGUgPSB0cnVlLA0KIH07DQogDQogc3Rh
dGljIGNvbnN0IHN0cnVjdCBzY3Bfc29jX2RhdGEgbXQ3NjIzYV9kYXRhID0gew0KQEAgLTEwMzIs
NyArMTAzNyw2IEBAIHN0YXRpYyB2b2lkIG10a19yZWdpc3Rlcl9wb3dlcl9kb21haW5zKHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsDQogCQkucHdyX3N0YV9vZmZzID0gU1BNX1BXUl9TVEFU
VVMsDQogCQkucHdyX3N0YTJuZF9vZmZzID0gU1BNX1BXUl9TVEFUVVNfMk5EDQogCX0sDQotCS5i
dXNfcHJvdF9yZWdfdXBkYXRlID0gdHJ1ZSwNCiB9Ow0KIA0KIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
c2NwX3NvY19kYXRhIG10ODE3M19kYXRhID0gew0KQEAgLTEwNDQsNyArMTA0OCw2IEBAIHN0YXRp
YyB2b2lkIG10a19yZWdpc3Rlcl9wb3dlcl9kb21haW5zKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYsDQogCQkucHdyX3N0YV9vZmZzID0gU1BNX1BXUl9TVEFUVVMsDQogCQkucHdyX3N0YTJu
ZF9vZmZzID0gU1BNX1BXUl9TVEFUVVNfMk5EDQogCX0sDQotCS5idXNfcHJvdF9yZWdfdXBkYXRl
ID0gdHJ1ZSwNCiB9Ow0KIA0KIC8qDQpAQCAtMTA4NSw4ICsxMDg4LDcgQEAgc3RhdGljIGludCBz
Y3BzeXNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikNCiANCiAJc29jID0gb2Zf
ZGV2aWNlX2dldF9tYXRjaF9kYXRhKCZwZGV2LT5kZXYpOw0KIA0KLQlzY3AgPSBpbml0X3NjcChw
ZGV2LCBzb2MtPmRvbWFpbnMsIHNvYy0+bnVtX2RvbWFpbnMsICZzb2MtPnJlZ3MsDQotCQkJc29j
LT5idXNfcHJvdF9yZWdfdXBkYXRlKTsNCisJc2NwID0gaW5pdF9zY3AocGRldiwgc29jLT5kb21h
aW5zLCBzb2MtPm51bV9kb21haW5zLCAmc29jLT5yZWdzKTsNCiAJaWYgKElTX0VSUihzY3ApKQ0K
IAkJcmV0dXJuIFBUUl9FUlIoc2NwKTsNCiANCi0tIA0KMS44LjEuMS5kaXJ0eQ0K

